#!/bin/sh

# Запускаем web приложение на порту 3000
cd /app/apps/web
pnpm start &

# Запускаем docs приложение на порту 3001
cd /app/apps/docs
pnpm start &

# Ждем запуска приложений
sleep 10

# Проверяем, что оба приложения запустились
echo "Проверяем статус приложений..."
curl -f http://localhost:3000 > /dev/null 2>&1 && echo "Web приложение запущено на порту 3000" || echo "Ошибка: Web приложение не запустилось"
curl -f http://localhost:3001 > /dev/null 2>&1 && echo "Docs приложение запущено на порту 3001" || echo "Ошибка: Docs приложение не запустилось"

# Держим контейнер запущенным
wait
